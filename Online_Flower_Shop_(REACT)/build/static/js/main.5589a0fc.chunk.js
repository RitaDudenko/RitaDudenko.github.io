(this["webpackJsonpmodal-windows"]=this["webpackJsonpmodal-windows"]||[]).push([[0],{101:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},127:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(56),o=a.n(c),l=(a(96),a(97),a(98),a(99),function(e){var t=e.backgroundColor,a=e.text,n=e.onClick,c=e.className,o=e.children,l=e.disabled,i=e.type,u=i?"".concat(i):"button",s=c?"btn ".concat(c):"btn";return r.a.createElement("button",{type:u,style:{backgroundColor:t},className:s,onClick:n,"data-testid":"testing-button",disabled:l},a,o)}),i=(a(100),a(101),function(e){var t=e.className,a=e.onClick;return r.a.createElement("i",{className:"".concat(t," icon"),onClick:a,"aria-hidden":"true"})}),u=a(22),s=a(8),m=Object(s.b)((function(e){return{cartList:e.cartList}}))((function(e){var t=e.cartList,a=t?"(".concat(t.length,")"):"";return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-container"},r.a.createElement(u.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo-img",src:"./logo.jpg",alt:"flowers"}),r.a.createElement("div",{className:"logo-text"},"Magic ",r.a.createElement("span",{className:"garden-span"},"Garden")))),r.a.createElement("div",{className:"header-buttons-wrapper"},r.a.createElement(u.b,{to:"/favourites"},r.a.createElement(l,{backgroundColor:"black",className:"btn--cart"},r.a.createElement(i,{className:"fa fa-star icon--white"})," \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),r.a.createElement(u.b,{to:"/cart"},r.a.createElement(l,{backgroundColor:"indianred",className:"btn--cart"},r.a.createElement(i,{className:"fa fa-shopping-cart icon--white"})," \u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",r.a.createElement("span",null,a))))))})),d=(a(106),function(e){var t=e.header,a=e.closeButton,n=e.text,c=e.onClick,o=e.contentClassName,i=e.btnClassName,u=e.actionBtnClassName,s=e.confirm,m=o?"modal__content ".concat(o):"modal__content",d=i?"btn ".concat(i):"btn",f=u?"".concat(d," ").concat(u," "):"".concat(d);return r.a.createElement("div",{className:"modal",onClick:c},r.a.createElement("div",{className:m,onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"modal__header"},r.a.createElement("h3",null,t),a&&r.a.createElement("span",{className:d,onClick:c},"\u2718")),r.a.createElement("div",{className:"modal__text"},n),r.a.createElement("div",{className:"modal__actions"},r.a.createElement(l,{backgroundColor:"rgba(0,0,0,0.3)",className:f,text:"\u0414\u0430",onClick:s}),r.a.createElement(l,{backgroundColor:"rgba(0,0,0,0.3)",className:f,text:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:c}))))}),f=(a(107),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"icons-block"},r.a.createElement(i,{className:"fa fa-facebook-square  "}),r.a.createElement(i,{className:"fa fa-twitter-square "}),r.a.createElement(i,{className:"fa fa-instagram"}),r.a.createElement(i,{className:"fa fa-pinterest-square"})),r.a.createElement("p",{className:"footer-content"},"\xa9Magic Garden. License since 2017"))}),p=a(3),E=(a(108),a(109),function(e){return function(t){t(function(e){return{type:"CHANGE_QUANTITY",payload:e}}(e))}}),b=a(84),v=a.n(b),N=function(e){return function(t){t(function(e){return{type:"GET_CURRENT_PRODUCT",payload:e}}(e))}},O=Object(s.b)(null,(function(e){return{openModalCart:function(){return e((function(e){e({type:"OPEN_MODAL_CART"})}))},setCurrentProduct:function(t){return e(N(t))},changeQuantity:function(t){return e(E(t))}}}))((function(e){var t=e.product,a=e.openModalCart,n=e.setCurrentProduct,c=e.changeQuantity,o=t.id,u=t.title,s=t.url,m=t.price,d=t.quantity;return r.a.createElement("div",{className:"product-cart-view",key:o},r.a.createElement("span",null,r.a.createElement("img",{className:"cart-img",src:s,alt:"flower"})),r.a.createElement("span",{className:"product-cart-title"},u),r.a.createElement("span",null,r.a.createElement(l,{backgroundColor:"black",text:"--",onClick:function(){d>1&&(t.quantity=d-1),c(t)}}),r.a.createElement("span",{className:"product-cart-quantity"},d),r.a.createElement(l,{backgroundColor:"black",text:"+",onClick:function(){t.quantity=d+1,c(t)}})),r.a.createElement("span",{className:"product-cart-price"},m),r.a.createElement("span",{className:"delete-product",onClick:function(){a(),n(t)},"data-testid":"deleting-span"},r.a.createElement(i,{className:"fa fa-times"})))})),g=(a(127),a(53)),y=a(89),C=a(90),h=function(e){var t=e.label,a=e.name,n=Object(C.a)(e,["label","name"]),c=Object(g.b)(a),o=Object(y.a)(c,2),l=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"shopping-form-field"},r.a.createElement("label",{className:"label"},t,r.a.createElement("span",{className:"required"},"*")),r.a.createElement("input",Object.assign({},l,n))),i.touched&&i.error&&r.a.createElement("div",{className:"error"},i.error))},_=a(36),k="This field is required!",A=_.b().shape({name:_.c().required(k).min(3,"This field must contain at least 3 letters"),surname:_.c().required(k),age:_.a().typeError("Age must be a number").required(k).integer("You must enter the number of full years ").min(16,"You haven't enough age to make this purchase").max(120,"Incorrect value!"),address:_.c().required(k),phone:_.c().required(k).matches(/^((\+38))?([ ])?((\(\d{3}\))|(\d{3}))?([ ])?(\d{3}[- ]?\d{2}[- ]?\d{2})$/,"Phone number is not valid")}),S=Object(s.b)((function(e){return{cartList:e.cartList}}),(function(e){return{doShopping:function(){return e((function(e){e({type:"DO_SHOPPING"})}))}}}))(Object(g.c)({mapPropsToValues:function(){return{name:"",surname:"",age:"",address:"",phone:"+380"}},handleSubmit:function(e,t){var a=t.props,n=a.cartList,r=a.doShopping;for(var c in console.log("\u0412\u0430\u0448\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0430:"),n.forEach((function(e,t){return console.log("".concat(t+1,". ").concat(e.title," -  ").concat(e.quantity," \u0448\u0442."))})),console.log("\u0412\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435:"),e)console.log("".concat(c,": ").concat(e[c]));r()},validationSchema:A})((function(e,t){e.cartList,e.doShopping;var a=t.isSubmitting;return r.a.createElement(g.a,{className:"shopping-form",noValidate:!0},r.a.createElement(h,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"}),r.a.createElement(h,{type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",label:"\u0412\u0430\u0448\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f"}),r.a.createElement(h,{type:"text",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",name:"age",label:"\u0412\u0430\u0448 \u0432\u043e\u0437\u0440\u0430\u0441\u0442"}),r.a.createElement(h,{type:"text",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",name:"address",label:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),r.a.createElement(h,{type:"text",placeholder:"+380",name:"phone",label:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"}),r.a.createElement("div",{className:"shopping-form-btn"},r.a.createElement(l,{backgroundColor:"indianred",text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",className:"btn--cart",type:"submit",disabled:a})),r.a.createElement("p",{className:"footnote"},r.a.createElement("span",{className:"required"},"*")," - \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "))}))),T=Object(s.b)((function(e){return{cartList:e.cartList}}))((function(e){var t=e.cartList,a=t.map((function(e){return r.a.createElement(O,{key:e.id,product:e})})),n=t.reduce((function(e,t){var a=t.price,n=t.quantity;return e+parseInt(a)*n}),0);return r.a.createElement("div",{className:"cart-container"},r.a.createElement("h2",{className:"cart-title"},"\u0412\u0430\u0448\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0430"),!t.length&&r.a.createElement("div",{className:"empty-cart"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"),!!t.length&&r.a.createElement("div",{className:"cart-content"},r.a.createElement(S,null),r.a.createElement("div",{className:"cart-items"},a,r.a.createElement("div",{className:"total-sum"},r.a.createElement("span",null,"\u041a \u043e\u043f\u043b\u0430\u0442\u0435:"),r.a.createElement("span",{className:"total-sum-amount"},n," UAH")))),r.a.createElement("div",{className:"cart-buttons"},r.a.createElement(u.b,{to:"/"},r.a.createElement(l,{backgroundColor:"black",text:"\u2190 \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}))))})),j=(a(129),a(130),Object(s.b)((function(e){return{favourites:e.favourites}}),(function(e){return{addCardToFav:function(t){return e(function(e){return function(t){t(function(e){return{type:"ADD_CARD_TO_FAV",payload:e}}(e))}}(t))},removeCardFromFav:function(t){return e(function(e){return function(t){t(function(e){return{type:"REMOVE_CARD_FROM_FAV",payload:e}}(e))}}(t))},getCurrentProduct:function(t){return e(N(t))},openModal:function(){return e((function(e){e({type:"OPEN_MODAL"})}))}}}))((function(e){var t=e.product,a=e.favourites,n=e.addCardToFav,c=e.removeCardFromFav,o=e.openModal,u=e.getCurrentProduct,s=t.title,m=t.price,d=t.url,f=t.article,p=t.color,E=a.find((function(e){return e.id===t.id}));return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:d,alt:"flower"})),r.a.createElement("h5",{className:"product-title"},s),r.a.createElement("p",{className:"product-article"},"\u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",f),r.a.createElement("p",{className:"product-color"},"\u0426\u0432\u0435\u0442: ",p),r.a.createElement("h5",{className:"price"},m,!E&&r.a.createElement(i,{className:"fa fa-star-o icon--m-l-30px",onClick:function(){n(t)}}),!!E&&r.a.createElement(i,{className:"fa fa-star icon--gold icon--m-l-30px",onClick:function(){c(t)}})),r.a.createElement("div",{className:"button-wrapper"},r.a.createElement(l,{backgroundColor:"indianred",className:"btn--card",text:"\u041a\u0443\u043f\u0438\u0442\u044c",onClick:function(){o(),u(t)}})))}))),L=Object(s.b)((function(e){return{favourites:e.favourites}}))(Object(p.f)((function(e){var t=e.favourites,a=e.history,n=t.map((function(e){return r.a.createElement(j,{key:e.id,product:e})}));return r.a.createElement("div",{className:"favourites-container"},r.a.createElement("h2",{className:"favourites-title"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),r.a.createElement("div",{className:"fav-cards-container"},n),r.a.createElement("div",{className:"fav-buttons"},r.a.createElement(l,{backgroundColor:"black",text:"\u2190 \u041d\u0430\u0437\u0430\u0434",onClick:function(){a.push("/")}})))}))),R=(a(131),Object(s.b)((function(e){return{products:e.products}}))((function(e){var t=e.products.products.map((function(e){return r.a.createElement(j,{key:e.id,product:e})}));return r.a.createElement("div",{className:"body"},r.a.createElement("h1",{className:"title"},"EH Magic ",r.a.createElement("span",{className:"title-span"},"Garden")),r.a.createElement("h2",{className:"subtitle"},"\u041c\u044b \u0441\u043e\u0437\u0434\u0430\u043b\u0438 Magic Garden \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u0430\u043c \u043d\u0435 \u043f\u0440\u0438\u0448\u043b\u043e\u0441\u044c \u0434\u0443\u043c\u0430\u0442\u044c, \u043a\u0430\u043a \u043b\u0443\u0447\u0448\u0435 \u0432\u044b\u0440\u0430\u0437\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0447\u0443\u0432\u0441\u0442\u0432\u0430."),t)}))),D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/favourites",component:L}),r.a.createElement(p.a,{path:"/cart",component:T}),r.a.createElement(p.a,{path:"/",component:R})))},M=Object(s.b)((function(e){return{cartList:e.cartList,products:e.products,modal:e.modal}}),(function(e){return{saveProducts:function(){return e((function(e){v()("/products.json").then((function(t){e({type:"SAVE_PRODUCTS",payload:t.data})}))}))},saveFavourites:function(t){return e(function(e){return function(t){t(function(e){return{type:"SAVE_FAVOURITES",payload:e}}(e))}}(t))},saveCartList:function(t){return e(function(e){return function(t){t(function(e){return{type:"SAVE_CARTLIST",payload:e}}(e))}}(t))},closeModal:function(){return e((function(e){e({type:"CLOSE_MODAL"})}))},closeModalCart:function(){return e((function(e){e({type:"CLOSE_MODAL_CART"})}))},addQuantity:function(t){return e(E(t))},addProductToCart:function(t){return e(function(e){return function(t){t(function(e){return{type:"ADD_PRODUCT_TO_CART",payload:e}}(e))}}(t))},removeFromCart:function(t){return e(function(e){return function(t){t(function(e){return{type:"REMOVE_FROM_CART",payload:e}}(e))}}(t))}}}))((function(e){var t=e.cartList,a=e.products,c=e.modal,o=e.saveProducts,l=e.saveFavourites,i=e.saveCartList,u=e.closeModal,s=e.closeModalCart,p=e.addProductToCart,E=e.addQuantity,b=e.removeFromCart,v=a.currentProduct,N=c.modalOpen,O=c.cartModalOpen;Object(n.useEffect)((function(){o(),l(JSON.parse(localStorage.getItem("favs"))||[]),i(JSON.parse(localStorage.getItem("cartList"))||[])}),[o,l,i]);return r.a.createElement(r.a.Fragment,null,N&&r.a.createElement(d,{header:"",closeButton:!0,text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443? ",onClick:u,actionBtnClassName:"btn--modal",confirm:function(){u(),function(e){var a=t.find((function(t){return t.id===e.id}));if(a)return a.quantity++,void E(a);e.quantity=1,p(e)}(v)}}),O&&r.a.createElement(d,{header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",closeButton:!0,text:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b?",onClick:s,actionBtnClassName:"btn--modal",confirm:function(){b(v),s()}}),r.a.createElement(m,null),r.a.createElement(D,null),r.a.createElement(f,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(31),P=a(50),q=a(7),x=[],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CARTLIST":return t.payload;case"DO_SHOPPING":return localStorage.setItem("cartList",JSON.stringify([])),[];case"CHANGE_QUANTITY":return localStorage.setItem("cartList",JSON.stringify(e.map((function(e){return e.id===t.payload.id?Object(q.a)(Object(q.a)({},e),{},{quantity:t.payload.quantity}):e})))),e.map((function(e){return e.id===t.payload.id?Object(q.a)(Object(q.a)({},e),{},{quantity:t.payload.quantity}):e}));case"ADD_PRODUCT_TO_CART":return localStorage.setItem("cartList",JSON.stringify([].concat(Object(P.a)(e),[t.payload]))),[].concat(Object(P.a)(e),[t.payload]);case"REMOVE_FROM_CART":return localStorage.setItem("cartList",JSON.stringify(e.filter((function(e){return e.id!==t.payload.id})))),e.filter((function(e){return e.id!==t.payload.id}));default:return e}},I=[],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_FAVOURITES":return t.payload;case"ADD_CARD_TO_FAV":return localStorage.setItem("favs",JSON.stringify([].concat(Object(P.a)(e),[t.payload]))),[].concat(Object(P.a)(e),[t.payload]);case"REMOVE_CARD_FROM_FAV":return localStorage.setItem("favs",JSON.stringify(e.filter((function(e){return e.id!==t.payload.id})))),e.filter((function(e){return e.id!==t.payload.id}));default:return e}},U={modalOpen:!1,cartModalOpen:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return Object(q.a)(Object(q.a)({},e),{},{modalOpen:!0});case"CLOSE_MODAL":return Object(q.a)(Object(q.a)({},e),{},{modalOpen:!1});case"OPEN_MODAL_CART":return Object(q.a)(Object(q.a)({},e),{},{cartModalOpen:!0});case"CLOSE_MODAL_CART":return Object(q.a)(Object(q.a)({},e),{},{cartModalOpen:!1});default:return e}},J={products:[],currentProduct:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_PRODUCTS":return Object(q.a)(Object(q.a)({},e),{},{products:t.payload});case"GET_CURRENT_PRODUCT":return Object(q.a)(Object(q.a)({},e),{},{currentProduct:t.payload});default:return e}},H=Object(w.c)({cartList:F,favourites:V,modal:G,products:B}),Q=a(88),X=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},Y=Object(w.e)(H,Object(w.d)(Object(w.a)(Q.a),X));o.a.render(r.a.createElement(s.a,{store:Y},r.a.createElement(u.a,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(132)},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.5589a0fc.chunk.js.map